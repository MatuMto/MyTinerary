(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{103:function(e,t,n){},156:function(e,t,n){"use strict";n.r(t);var r=n(2),c=n.n(r),a=n(23),i=n.n(a),s=n(11),o=(n(103),n(27)),l=n(28),u=n(32),d=n(31),j=n(1),m=function(e){var t=e.singleSlide;return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"slide-container",children:[Object(j.jsx)("div",{className:"card1",style:{background:"url(/img/".concat(t[0].img,")"),backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"cover"},children:Object(j.jsx)("div",{className:"location-name-container",children:Object(j.jsx)("p",{children:t[0].location})})}),Object(j.jsx)("div",{className:"card2",style:{background:"url(/img/".concat(t[1].img,")"),backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"cover"},children:Object(j.jsx)("div",{className:"location-name-container",children:Object(j.jsx)("p",{children:t[1].location})})}),Object(j.jsx)("div",{className:"card3",style:{background:"url(/img/".concat(t[2].img,") "),backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"cover"},children:Object(j.jsx)("div",{className:"location-name-container",children:Object(j.jsx)("p",{children:t[2].location})})}),Object(j.jsx)("div",{className:"card4",style:{background:"url(/img/".concat(t[3].img,")"),backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"cover"},children:Object(j.jsx)("div",{className:"location-name-container",children:Object(j.jsx)("p",{children:t[3].location})})})]})})},p=n(45),h=function(e){var t=e.carrouselData;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"slide-tittle-container",children:Object(j.jsx)("h3",{className:"slide-tittle",children:"Popular MyTineraries"})}),Object(j.jsx)("div",{className:"complete-carrousel",children:Object(j.jsx)("section",{className:"slider",children:Object(j.jsx)(p.a,{enableAutoPlay:!0,autoPlaySpeed:5e3,children:t.map((function(e,t){return Object(j.jsx)(m,{singleSlide:e})}))})})})]})},b=n(15),g=n(8),O=(n(64),n(157)),x=n(161),f=n(162),v=n(158),y=n(16),N=n(5),k=n.n(N),C=n(9),w=n(19),I=n.n(w),S=n(37),L=n.n(S),T={registerUser:function(e){return function(){var t=Object(C.a)(k.a.mark((function t(n,r){var c;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I.a.post("https://mytinerarylorenzo.herokuapp.com/api/user/signUp",e);case 2:if((c=t.sent).data.success){t.next=6;break}return c.data.error&&L.a.fire({icon:"error",title:"Oops...",text:c.data.error}),t.abrupt("return",c.data.errors);case 6:n({type:"LOG_USER",payload:c.data.success?c.data.response:null});case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},logUser:function(e){return function(){var t=Object(C.a)(k.a.mark((function t(n,r){var c;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I.a.post("https://mytinerarylorenzo.herokuapp.com/api/user/signIn",e);case 2:(c=t.sent).data.success||L.a.fire({icon:"error",title:"Oops...",text:c.data.error}),n({type:"LOG_USER",payload:c.data.success?c.data.response:null});case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},logOutUser:function(){return function(e,t){e({type:"LOGOUT_USER"})}},forcedLoginByLS:function(e){return function(){var t=Object(C.a)(k.a.mark((function t(n,r){var c;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,I.a.get("https://mytinerarylorenzo.herokuapp.com/api/user/loginLS",{headers:{Authorization:"Bearer "+e.token}});case 3:c=t.sent,n({type:"LOG_USER",payload:Object(s.a)(Object(s.a)({},c.data.response),{},{token:e.token})}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,n){return t.apply(this,arguments)}}()}};var _={logOutUser:T.logOutUser},U=Object(y.b)((function(e){return{userLogged:e.auth.userLogged}}),_)((function(e){var t=e.userLogged?e.userLogged.image:"/img/black-user-icon.png",n=Object(r.useState)(!1),c=Object(b.a)(n,2),a=c[0],i=c[1];return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("header",{className:"header",children:[Object(j.jsxs)("div",{className:"homeAndCities-container",children:[Object(j.jsx)(g.c,{to:"/",children:"Home"}),Object(j.jsx)("div",{children:"|"}),Object(j.jsx)(g.c,{to:"/cities",children:"Cities"})]}),Object(j.jsxs)("div",{className:"logo-container",children:[Object(j.jsx)("img",{src:"/img/logo-finish.png",alt:"mi loguito :)",style:{width:"150px"}}),Object(j.jsx)("h1",{className:"logo-text",children:"MyTinerary"})]}),Object(j.jsxs)("div",{className:"login-section",children:[!e.userLogged&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(g.c,{to:"/user/signup",className:"link",style:{color:"black"},children:"Sign Up"}),Object(j.jsx)("p",{className:"signUp-divisorLine",children:"|"}),Object(j.jsx)(g.c,{to:"/user/signin",className:"link",style:{color:"black"},children:"Sign In"})]}),e.userLogged&&Object(j.jsx)(g.c,{to:"/",children:Object(j.jsx)("p",{className:"signOut-button home",onClick:e.logOutUser,children:"Sign Out"})}),e.userLogged&&Object(j.jsx)("p",{className:"userName home ",children:"|"}),e.userLogged&&Object(j.jsxs)("p",{className:"userName home",children:[" ",e.userLogged.name]}),Object(j.jsx)("div",{style:{marginLeft:"20px",width:"100px",height:"100px",borderRadius:"50%",backgroundImage:"url(".concat(t,")"),backgroundPosition:"center",backgroundSize:"cover"}})]})]}),Object(j.jsxs)("header",{className:"header-responsive",children:[Object(j.jsxs)(O.a,{isOpen:a,toggle:function(){i(!a)},children:[Object(j.jsx)(x.a,{children:Object(j.jsx)("img",{src:"/icons/hamburger.png",alt:"hamburguer responsive ",width:"20px"})}),Object(j.jsxs)(f.a,{children:[Object(j.jsx)(v.a,{children:"Home"}),Object(j.jsx)(v.a,{children:Object(j.jsx)(g.c,{to:"/cities",children:"Cities"})}),Object(j.jsx)(v.a,{children:"Sign Up"}),Object(j.jsx)(v.a,{disabled:!0,children:"Log In"})]})]}),Object(j.jsxs)("div",{className:"logo-container",children:[Object(j.jsx)("img",{src:"/img/logo-finish.png",alt:"My logo :)",style:{width:"80px"}}),Object(j.jsx)("h1",{className:"logo-text",children:"MyTinerary"})]}),Object(j.jsx)("div",{style:{marginLeft:"20px"},children:Object(j.jsx)("img",{src:"/img/user-icon.png",alt:"user unloged icon",style:{width:"50px"}})})]})]})}));var A=function(){return Object(j.jsx)("div",{className:"hero-container",children:Object(j.jsx)("div",{className:"hero-text",children:"Find your Perfect trip, Designed by insider who knows and love their cities!"})})};var R=function(){return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("div",{className:"callToAction-mainContainer",children:Object(j.jsxs)("div",{className:"callToAction-container",children:[Object(j.jsx)("div",{className:"ClickHere-button",children:Object(j.jsxs)(g.c,{to:"/cities",className:"ClickHere-button-text",children:["Click Here! ",Object(j.jsx)("img",{src:"/icons/paper-plane.png",alt:"plane icon should be here xD",className:"plane-icon",style:{width:"30px"}})," "]})}),Object(j.jsx)("p",{className:"callToAction-text",children:"...and follow the adventure path"})]})})})};var F=function(){return Object(j.jsxs)("div",{className:"home-main",style:{background:"url('/img/static-background.png')",backgroundRepeat:"no-repeat",backgroundPosition:"bottom",backgroundSize:"cover"},children:[Object(j.jsx)(U,{}),Object(j.jsx)(A,{}),Object(j.jsx)(R,{})]})},P=function(e){var t=e.singleSlide;return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("div",{className:"responsive-slide-container",children:Object(j.jsx)("div",{className:"card",style:{background:"url(/img/".concat(t.img,")"),backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"cover"},children:Object(j.jsx)("div",{className:"location-name-container",children:Object(j.jsx)("p",{children:t.location})})})})})},z=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(e){var t=this.props.carrouselData;return Object(j.jsx)("section",{className:"responsive-carrousel",children:Object(j.jsx)(p.a,{itemsToShow:2,children:t.map((function(e,t){return e.map((function(e){return Object(j.jsx)(P,{singleSlide:e})}))}))})})}}]),n}(r.Component),E=[[{location:"Buenos Aires",id:1,img:"buenos-aires.jpg"},{location:"Rio de Janeiro",id:2,img:"rio-de-janeiro.jpg"},{location:"Estocolmo",id:3,img:"estocolmo.jpeg"},{location:"Amsterdam",id:4,img:"amsterdam.jpg"}],[{location:"Paris",id:5,img:"paris.jpg"},{location:"Rome",id:6,img:"rome.jpg"},{location:"Helsinki",id:7,img:"helsinki.jpg"},{location:"Berna",id:8,img:"berna.jpg"}],[{location:"Madrid",id:9,img:"madrid.jpg"},{location:"Oslo",id:10,img:"oslo.jpg"},{location:"Copenhague",id:11,img:"copenhague.jpg"},{location:"Wellington",id:12,img:"wellington.jpg"}]],D=n(93),M=n.n(D),G=function(e){var t=e.bars,n=e.white;return Object(j.jsx)("div",{style:{margin:"0 auto"},children:Object(j.jsx)(M.a,{type:t,color:n,height:667,width:375})})},B=function(){return Object(j.jsx)("div",{className:"citiesPage-footerContainer",children:Object(j.jsxs)("footer",{className:"citiesPage-footer",children:[Object(j.jsx)("div",{className:"footerText-left",children:"MyTinerary"}),Object(j.jsx)("div",{className:"footerText-right",children:"@_mateo.lorenzo_dev"})]})})},H=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,c=new Array(r),a=0;a<r;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c))).state={infoOfCities:[],loading:!0},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;I.a.get("https://mytinerarylorenzo.herokuapp.com/api/allCities").then((function(t){return e.setState({infoOfCities:t.data.respuesta,loading:!1})}))}},{key:"render",value:function(){return this.state.loading,Object(j.jsxs)("div",{children:[Object(j.jsx)(F,{}),Object(j.jsx)(h,{carrouselData:E}),Object(j.jsx)(z,{carrouselData:E}),Object(j.jsx)(B,{})]})}}]),n}(c.a.Component),W=function(e){var t=e.location;return Object(j.jsx)(g.b,{style:{textDecoration:"none",margin:"15px 15px"},to:"/itineraries/".concat(t._id),children:Object(j.jsx)("div",{className:"cityCard-container",style:{backgroundImage:"url(".concat(t.img,")")},children:Object(j.jsx)("div",{className:"cityName-container",children:Object(j.jsx)("p",{className:"cityCard-name",children:t.cityName})})})})},J={logOutUser:T.logOutUser},Y=Object(y.b)((function(e){return{userLogged:e.auth.userLogged}}),J)((function(e){var t=Object(r.useState)(!1),n=Object(b.a)(t,2),c=n[0],a=n[1],i=e.userLogged?e.userLogged.image:"/img/black-user-icon.png";return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("header",{className:"cities-header",children:[Object(j.jsxs)("div",{className:"homeAndCities-container",children:[Object(j.jsx)(g.c,{to:"/",style:{color:"white"},children:"Home"}),Object(j.jsx)("div",{style:{color:"white"},children:"|"}),Object(j.jsx)(g.c,{to:"/cities",style:{color:"white"},children:"Cities"})]}),Object(j.jsxs)("div",{className:"logo-container",children:[Object(j.jsx)("img",{src:"/img/logo-finish.png",alt:"MyTinerary Logo",style:{width:"150px"}}),Object(j.jsx)("h1",{className:"logo-text",style:{color:"black"},children:"MyTinerary"})]}),Object(j.jsxs)("div",{className:"login-section",children:[!e.userLogged&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(g.c,{to:"/user/signup",className:"link",style:{color:"black"},children:"Sign Up"}),Object(j.jsx)("p",{style:{color:"black",marginBottom:"0px"},children:"|"}),Object(j.jsx)(g.c,{to:"/user/signin",className:"link",style:{color:"black"},children:"Sign In"})]}),e.userLogged&&Object(j.jsx)(g.c,{to:"/",children:Object(j.jsx)("p",{className:"signOut-button",onClick:e.logOutUser,children:"Sign Out"})}),e.userLogged&&Object(j.jsx)("p",{className:"userName",children:"|"}),e.userLogged&&Object(j.jsxs)("p",{className:"userName",children:[" ",e.userLogged.name]}),Object(j.jsx)("div",{style:{marginLeft:"20px",width:"100px",height:"100px",borderRadius:"50%",backgroundImage:"url(".concat(i,")"),backgroundPosition:"center",backgroundSize:"cover"}})]})]}),Object(j.jsxs)("header",{className:"cities-header-responsive",children:[Object(j.jsxs)(O.a,{isOpen:c,toggle:function(){a(!c)},children:[Object(j.jsx)(x.a,{children:Object(j.jsx)("img",{src:"/icons/hamburger.png",alt:"hamburguer",width:"20px"})}),Object(j.jsxs)(f.a,{children:[Object(j.jsx)(v.a,{children:Object(j.jsx)(g.c,{to:"/",children:"Home"})}),Object(j.jsx)(v.a,{children:Object(j.jsx)(g.c,{to:"/cities",children:"Cities"})}),Object(j.jsx)(v.a,{children:"Sign Up"}),Object(j.jsx)(v.a,{disabled:!0,children:"Log In"})]})]}),Object(j.jsxs)("div",{className:"logo-container",children:[Object(j.jsx)("img",{src:"/img/logo-finish.png",alt:"mi loguito :)",style:{width:"150px"}}),Object(j.jsx)("h1",{className:"logo-text",style:{color:"black"},children:"MyTinerary"})]}),Object(j.jsx)("div",{style:{marginLeft:"20px"},children:Object(j.jsx)("img",{src:"/img/black-user-icon.png",style:{width:"60px",color:"black"},className:"unlogged-icon",alt:"user unloged logo"})})]})]})})),q={uploadCities:function(){return function(e,t){fetch("https://mytinerarylorenzo.herokuapp.com/api/cities").then((function(e){return e.json()})).then((function(t){return e({type:"CARGAR_CITIES",payload:t.respuesta})})).catch((function(e){return console.log(e)}))}},citiesFilter:function(e){return function(t,n){t({type:"FILTER_FUNCTION",payload:e.trim()})}},callSingleCity:function(e){return function(){var t=Object(C.a)(k.a.mark((function t(n,r){var c;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I.a.get("https://mytinerarylorenzo.herokuapp.com/api/city/"+e);case 2:return c=t.sent,t.abrupt("return",c.data.respuesta);case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}},V=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.uploadCities()}},{key:"render",value:function(){var e=this;return Object(j.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(j.jsx)(Y,{}),Object(j.jsxs)("div",{className:"cities-page-tittle-container",children:[Object(j.jsx)("h1",{className:"citiesPage-tittle",children:"Check out All these options!"}),Object(j.jsx)("input",{onChange:function(t){return e.props.citiesFilter(t.target.value)},placeholder:"Search a City!",className:"main-input",type:"text"})]}),0===this.props.citiesList.length&&Object(j.jsx)(G,{}),Object(j.jsx)("div",{style:{display:"flex",flexWrap:"wrap",minHeight:"45vh",justifyContent:"center"},children:this.props.ciudadesFiltradas.length>0?this.props.ciudadesFiltradas.map((function(e){return Object(j.jsx)(W,{location:e},e._id)})):Object(j.jsxs)("div",{className:"no-match-poster",style:{height:"40vh",margin:"10vh auto 0vh auto",borderRadius:"10px",width:"80%",background:"url(/img/fondo-nomatch.jpg)",backgroundPosition:"center",backgroundSize:"cover",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[Object(j.jsx)("p",{className:"no-match-text1",children:"Wow! How did you know? That city is coming very soon!"}),Object(j.jsx)("p",{className:"no-match-text2",children:"While, you can try searching any other.."})]})}),Object(j.jsx)(B,{})]})}}]),n}(c.a.Component),K={uploadCities:q.uploadCities,citiesFilter:q.citiesFilter},Q=Object(y.b)((function(e){return{citiesList:e.cities.allCities,ciudadesFiltradas:e.cities.citiesFilter}}),K)(V),X=n(13),Z=n(30),$=function(e){var t=e.selectedCity;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(Y,{}),Object(j.jsx)("div",{className:"itinerary-tittle-container",style:{backgroundImage:"url(".concat(t.img,")"),backgroundPosition:"center",backgroundSize:"cover"},children:Object(j.jsx)("div",{className:"itinerary-tittle-text-container",children:Object(j.jsxs)("p",{className:"welcome-to-itinerary",children:["Welcome to ",t.cityName,", ",t.country,"! "]})})}),Object(j.jsxs)("div",{className:"takeALook-container",children:[Object(j.jsx)(Z.a,{className:"down-arrow"}),Object(j.jsx)("h1",{className:"takeALook",children:"Take a look at all this Itineraries!"})]})]})},ee={callSingleCityItinearies:function(e){return function(t,n){fetch("https://mytinerarylorenzo.herokuapp.com/api/itineraries/"+e).then((function(e){return e.json()})).then((function(e){t({type:"CALL_SELECTED_CITY_ITINERARIES",payload:e.respuesta})})).catch((function(e){return console.log(e)}))}},likeItinerary:function(e){return function(){var t=Object(C.a)(k.a.mark((function t(n,r){var c;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I.a.post("https://mytinerarylorenzo.herokuapp.com/api/likeItinerary",e);case 2:return c=t.sent,t.abrupt("return",c);case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},sendComment:function(e){return function(){var t=Object(C.a)(k.a.mark((function t(n,r){var c;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I.a.post("https://mytinerarylorenzo.herokuapp.com/api/itinerary/comments",e);case 2:return c=t.sent,t.abrupt("return",c);case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},deleteComment:function(e){return function(){var t=Object(C.a)(k.a.mark((function t(n,r){var c;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I.a.delete("https://mytinerarylorenzo.herokuapp.com/api/itinerary/comments",{data:e});case 2:return c=t.sent,t.abrupt("return",c.data.response);case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},editComment:function(e,t){return function(){var n=Object(C.a)(k.a.mark((function n(r,c){var a;return k.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,I.a.put("https://mytinerarylorenzo.herokuapp.com/api/itinerary/comments/"+e,t);case 2:return a=n.sent,n.abrupt("return",a.data.response);case 4:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}},te=n(159),ne=n(160),re=n(94),ce=n(97),ae=n(95),ie=n(96),se={getItineraryActivities:function(e){return function(){var t=Object(C.a)(k.a.mark((function t(n,r){var c;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I.a.get("https://mytinerarylorenzo.herokuapp.com/api/activities/"+e);case 2:return c=t.sent,t.abrupt("return",c.data.response);case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}},oe=n(60);n(148);oe.a.configure();var le={getItineraryActivities:se.getItineraryActivities,likeItinerary:ee.likeItinerary,sendComment:ee.sendComment,deleteComment:ee.deleteComment,editComment:ee.editComment},ue=Object(y.b)((function(e){return{userLogged:e.auth.userLogged,cities:e.itineraries}}),le)((function(e){var t=e.itineraryData,n=e.userLogged,c=Object(r.useState)(t.likes.length),a=Object(b.a)(c,2),i=a[0],s=a[1],o=Object(r.useState)(!1),l=Object(b.a)(o,2),u=l[0],d=l[1],m=Object(r.useState)([]),p=Object(b.a)(m,2),h=p[0],g=p[1],O=Object(r.useState)(!1),x=Object(b.a)(O,2),f=x[0],v=x[1],y=Object(r.useState)(!1),N=Object(b.a)(y,2),w=N[0],I=(N[1],Object(r.useState)([])),S=Object(b.a)(I,2),T=S[0],_=S[1],U=Object(r.useState)(""),A=Object(b.a)(U,2),R=A[0],F=A[1],P=Object(r.useState)(!1),z=Object(b.a)(P,2),E=z[0],D=z[1],M=Object(r.useState)(""),G=Object(b.a)(M,2),B=G[0],H=G[1];Object(r.useEffect)((function(){if(n){var e=t.likes.indexOf(n.userId);d(-1!==e&&!0)}}),[]);var W=function(){var n=Object(C.a)(k.a.mark((function n(){var r;return k.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return v(!f),n.next=3,e.getItineraryActivities(t._id);case 3:return r=n.sent,n.next=6,g(r);case 6:_(t.comments);case 7:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),J=function(){var r=Object(C.a)(k.a.mark((function r(){return k.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return d(!u),s(u?i-1:i+1),r.next=4,e.likeItinerary({userId:n.userId,itineraryId:t._id});case 4:r.sent;case 5:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),Y=function(){var r=Object(C.a)(k.a.mark((function r(){var c;return k.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(""===R){r.next=7;break}return F(""),r.next=4,e.sendComment({userId:n.userId,comment:R,itineraryId:t._id});case 4:return c=r.sent,r.next=7,_(c.data.response);case 7:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),q=function(){var t=Object(C.a)(k.a.mark((function t(n){var r;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.deleteComment(n);case 2:r=t.sent,_(r);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),V=function(){var e=Object(C.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:L.a.fire({title:"Are you sure?",text:"You are going to delete your comment!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(e){e.isConfirmed&&(q(t),L.a.fire("Deleted!","Your comment has been deleted","success"))}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=function(){var t=Object(C.a)(k.a.mark((function t(n,r){var c;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return D(!E),t.next=3,e.editComment(n,r);case 3:c=t.sent,_(c);case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),Q=function(e){oe.a.error("Must be logged to ".concat(e,"!"))};return Object(j.jsx)("div",{className:"itineraryCard-container",children:Object(j.jsxs)("div",{className:"data-container",children:[Object(j.jsx)("h1",{className:"itinerary-tittle",children:t.tittle}),Object(j.jsx)("div",{className:"author-img",style:{backgroundImage:"url(".concat(t.authorImg,")"),backgroundPosition:"center",backgroundSize:"cover"}}),Object(j.jsx)("p",{className:"author-name",children:t.authorName}),Object(j.jsxs)("div",{className:"itinerary-data-container",children:[Object(j.jsxs)("div",{className:"price-container",children:[Object(j.jsx)("p",{style:{margin:"0px 0px 0px 0px",fontSize:"20px"},children:"Price:"}),new Array(t.price).fill(0).map((function(e){return Object(j.jsxs)("div",{children:[" ",Object(j.jsx)("img",{src:"/icons/dolar.png",alt:"dollar",width:"35px"})," "]},e._id)}))]}),Object(j.jsxs)("div",{className:"duration-container",children:[Object(j.jsx)("p",{style:{margin:"0px 0px 0px 30px"},children:"Duration:"}),new Array(t.duration).fill(0).map((function(e){return Object(j.jsxs)("div",{children:[" ",Object(j.jsx)("img",{src:"/icons/clock.png",alt:"clock",width:"35px"})," "]},e._id)}))]}),Object(j.jsx)("div",{className:"likes-container",style:{display:"flex",flexDirection:"column"},children:Object(j.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(j.jsxs)("div",{className:"heart-icon-container",onClick:n?J:function(){return Q("Like")},children:[Object(j.jsx)(ae.a,{className:u?"displayNone":"heart-icon-disliked"}),Object(j.jsx)(Z.b,{className:u?"heart-icon":"displayNone"})]}),Object(j.jsx)("p",{style:{margin:"0px 10px 0px 10px",fontSize:"30px"},children:i})]})})]}),Object(j.jsx)("div",{className:"hashtags-container",children:t.hashtags.map((function(e){return Object(j.jsxs)("p",{className:"hashtag",children:["#",e]},e._id)}))}),Object(j.jsx)("div",{className:"viewMoreButton-container",children:Object(j.jsx)("button",{onClick:W,className:f?"displayNone":"viewMore-button",children:"View More"})}),Object(j.jsxs)(te.a,{isOpen:f,children:[Object(j.jsxs)(ne.a,{className:"collapse-section",style:{marginBottom:"".concat(w?"8vh":"4vh")},children:[Object(j.jsxs)("div",{className:"activities-section-container",children:[Object(j.jsx)("div",{className:"actitiesTittle-container",children:Object(j.jsx)("h1",{className:"activitiesTittle",children:"Activities"})}),Object(j.jsx)("div",{className:"activities-container",children:h.map((function(e){return Object(j.jsx)("div",{className:"activity",style:{backgroundImage:"url(".concat(e.img,")")},children:Object(j.jsx)("div",{className:"activityTittleContainer",children:Object(j.jsxs)("h3",{className:"activityTittle",children:[" ",e.tittle]})})})}))})]}),Object(j.jsxs)("div",{className:"comments-general-container",children:[Object(j.jsx)("div",{className:"commentsTittle-container",children:Object(j.jsx)("h1",{className:"commentsTittle",children:"Comments"})}),Object(j.jsx)("div",{className:"all-comments-container",children:T.map((function(e){return Object(j.jsx)("div",{className:"comment",children:Object(j.jsxs)("div",{className:"x-alineator",children:[Object(j.jsx)("div",{children:Object(j.jsx)("div",{className:"authorComment-img",style:{backgroundImage:"url(".concat(e.userImg,")")}})}),Object(j.jsxs)("div",{className:"commentContent-container",children:[Object(j.jsx)("p",{className:n&&e.userId===n.userId&&E?"displayNone":"comment-author",children:Object(j.jsxs)("strong",{children:[" ",e.userName]})}),Object(j.jsx)("p",{className:n&&e.userId===n.userId&&E?"displayNone":"comment-content",children:e.comment}),n&&e.userId===n.userId&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("input",{type:"text",value:B,onChange:function(e){return H(e.target.value)},className:E?"editingInput":"displayNone"}),Object(j.jsx)(ie.a,{className:E?"sendEditedIcon":"displayNone",onClick:function(){return K(t._id,{commentId:e._id,newComment:B})}})]})]}),n&&e.userId===n.userId&&Object(j.jsxs)("div",{className:"modifyCommentIcons-container",children:[Object(j.jsx)(Z.c,{onClick:function(){return t=e.comment,D(!E),void H(t);var t},className:E?"displayNone":"edit-icon"}),Object(j.jsx)(Z.d,{onClick:function(){return V({itineraryId:t._id,commentId:e._id})},className:E?"displayNone":"delete-icon"})]})]})},e._id)}))}),Object(j.jsxs)("div",{className:"input-container",children:[Object(j.jsx)("input",{type:"text",value:R,onChange:function(e){return F(e.target.value)},className:"comments-input",placeholder:"Leave your comment!"}),Object(j.jsx)("div",{className:"paperPlane-icon",onClick:n?Y:function(){return Q("Comment")},children:Object(j.jsx)(re.a,{icon:ce.a})})]})]})]}),Object(j.jsx)("div",{className:"viewLess-button-container",children:Object(j.jsx)("button",{onClick:function(){return v(!f)},className:"viewLess-button",children:"View Less"})})]})]})})})),de=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,c=new Array(r),a=0;a<r;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c))).state={selectedCity:{}},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=Object(C.a)(k.a.mark((function e(){var t,n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props.match.params.id,!(this.props.allCities.length>0)){e.next=5;break}this.setState({selectedCity:this.props.allCities.find((function(e){return e._id===t}))}),e.next=9;break;case 5:return e.next=7,this.props.callSingleCity(t);case 7:n=e.sent,this.setState({selectedCity:n});case 9:this.props.callSingleCityItinearies(t);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)($,{selectedCity:this.state.selectedCity}),this.props.selectedCityItineraries.length>0?this.props.selectedCityItineraries.map((function(e){return Object(j.jsx)(ue,{itineraryData:e},e._id)})):Object(j.jsx)("h1",{style:{textAlign:"center",background:"white",padding:"100px",borderRadius:"50px"},children:"We're still working on this city's Itineraries!"}),Object(j.jsx)("div",{className:"linkToHome-container",children:Object(j.jsx)(g.c,{className:"link-to-home",to:"/cities",children:"Back to Cities"})}),Object(j.jsx)(B,{})]})}}]),n}(c.a.Component),je={callSingleCityItinearies:ee.callSingleCityItinearies,callSingleCity:q.callSingleCity},me=Object(y.b)((function(e){return{allCities:e.cities.allCities,selectedCityItineraries:e.itineraries.selectedCityItineraries}}),je)(de),pe=n(35),he=n(44),be={registerUser:T.registerUser},ge=Object(y.b)(null,be)((function(e){var t=Object(r.useState)([]),n=Object(b.a)(t,2),c=n[0],a=n[1],i=Object(r.useState)({name:"",lastName:"",mail:"",password:"",image:"",country:""}),o=Object(b.a)(i,2),l=o[0],u=o[1],d=Object(r.useState)([]),m=Object(b.a)(d,2),p=m[0],h=m[1];Object(r.useEffect)((function(){fetch("https://restcountries.eu/rest/v2/all").then((function(e){return e.json()})).then((function(e){return a(e)}))}),[]);var O=function(e){var t=e.target.name,n=e.target.value;u(Object(s.a)(Object(s.a)({},l),{},Object(pe.a)({},t,n)))},x=function(){var t=Object(C.a)(k.a.mark((function t(){var n,r,c,a,i=arguments;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=i.length>0&&void 0!==i[0]?i[0]:null,r=i.length>1&&void 0!==i[1]?i[1]:null,n&&n.preventDefault(),c=n?l:r,t.next=6,e.registerUser(c);case 6:(a=t.sent)&&h(p=a.details);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),f=function(e){var t=e.profileObj,n=t.givenName,r=t.familyName,c=t.email,a=t.googleId,i=t.imageUrl,s=t.country;x(null,{name:n,lastName:r,mail:c,password:"a"+a,image:i,country:void 0===s?"Not Given":s})};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(Y,{}),Object(j.jsx)("div",{className:"signIn-main-container",children:Object(j.jsx)("div",{className:"form-box",children:Object(j.jsxs)("div",{className:"form-container",children:[Object(j.jsx)("h1",{className:"register-tittle",children:"USER SIGN UP"}),Object(j.jsx)("h1",{className:"register-tittle2",children:"SIGN UP"}),Object(j.jsx)("div",{className:"errorMessages-container",children:p.map((function(e){return Object(j.jsxs)("p",{children:[" ",e.message," "]})}))}),Object(j.jsxs)("form",{action:"",className:"form",children:[Object(j.jsx)("input",{type:"text",onChange:O,value:l.name,name:"name",className:"register-input",placeholder:"Name"}),Object(j.jsx)("input",{type:"text",onChange:O,value:l.lastName,name:"lastName",className:"register-input",placeholder:"Last Name"}),Object(j.jsx)("input",{type:"text",onChange:O,value:l.mail,name:"mail",className:"register-input",placeholder:"Mail"}),Object(j.jsx)("input",{type:"password",onChange:O,value:l.password,name:"password",className:"register-input",placeholder:"Password"}),Object(j.jsx)("input",{type:"text",onChange:O,value:l.image,name:"image",className:"register-input",placeholder:"Image (url)"}),Object(j.jsxs)("select",{className:"signUp-select",value:l.country,name:"country",onChange:O,children:[Object(j.jsx)("option",{children:"Country"}),c.map((function(e,t){return Object(j.jsx)("option",{className:"country-option",children:e.name})}))]})]}),Object(j.jsxs)("div",{className:"register-buttonsContainer",children:[Object(j.jsx)(he.GoogleLogin,{clientId:"65661377486-3ridgqe1v6hdfj5s067rtfi3jg21nnvh.apps.googleusercontent.com",buttonText:"Sign Up with Google",onSuccess:f,onFailure:f,cookiePolicy:"single_host_origin"}),Object(j.jsx)("button",{onClick:x,className:"register-button",children:"REGISTER"})]}),Object(j.jsx)(g.c,{to:"/user/signin",className:"register-callToAction",children:"Have an account? Sign In Here!"})]})})}),Object(j.jsx)("div",{className:"citiesPage-footerContainer1",children:Object(j.jsxs)("footer",{className:"citiesPage-footer1",children:[Object(j.jsx)("div",{className:"footerText-left",children:"MyTinerary"}),Object(j.jsx)("div",{className:"footerText-right",children:"@_mateo.lorenzo_dev"})]})})]})})),Oe={logUser:T.logUser},xe=Object(y.b)((function(e){return{userLogged:e.auth.userLogged}}),Oe)((function(e){var t=Object(r.useState)({mail:"",password:""}),n=Object(b.a)(t,2),c=n[0],a=n[1],i=function(e){var t=e.target.name,n=e.target.value;a(Object(s.a)(Object(s.a)({},c),{},Object(pe.a)({},t,n)))},o=function(){var t=Object(C.a)(k.a.mark((function t(){var n,r,a,i=arguments;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=i.length>0&&void 0!==i[0]?i[0]:null,r=i.length>1&&void 0!==i[1]?i[1]:null,n&&n.preventDefault(),a=n?c:r,e.logUser(a);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),l=function(e){e.profileObj.email?o(null,{mail:e.profileObj.email,password:"a"+e.profileObj.googleId}):alert("Looks like something went wrong... please come back later.")};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(Y,{}),Object(j.jsx)("div",{className:"signIn-main-container",children:Object(j.jsx)("div",{className:"form-box",children:Object(j.jsxs)("div",{className:"form-container",children:[Object(j.jsx)("h1",{className:"signIn-tittle",children:"USER SIGN IN"}),Object(j.jsxs)("form",{action:"",className:"form",children:[Object(j.jsx)("input",{type:"text",name:"mail",value:c.mail,onChange:i,className:"login-input",placeholder:"Mail"}),Object(j.jsx)("input",{type:"password",name:"password",value:c.password,onChange:i,className:"login-input",placeholder:"Password"})]}),Object(j.jsxs)("div",{className:"signIn-buttonsContainer",children:[Object(j.jsx)(he.GoogleLogin,{clientId:"65661377486-3ridgqe1v6hdfj5s067rtfi3jg21nnvh.apps.googleusercontent.com",buttonText:"Sign In with Google",onSuccess:l,onFailure:l,cookiePolicy:"single_host_origin"}),Object(j.jsx)("button",{onClick:o,className:"login-button",children:"SIGN IN"})]}),Object(j.jsx)(g.c,{className:"signIn-callToAction",to:"/user/signup",children:"Don't registered yet? Sign up Here!"})]})})}),Object(j.jsx)("div",{className:"citiesPage-footerContainer1",children:Object(j.jsxs)("footer",{className:"citiesPage-footer1",children:[Object(j.jsx)("div",{className:"footerText-left",children:"MyTinerary"}),Object(j.jsx)("div",{className:"footerText-right",children:"@_mateo.lorenzo_dev"})]})})]})}));var fe={forcedLoginByLS:T.forcedLoginByLS},ve=Object(y.b)((function(e){return{userLogged:e.auth.userLogged}}),fe)((function(e){if(!e.userLogged&&localStorage.getItem("token")){var t=JSON.parse(localStorage.getItem("userLogged")),n=Object(s.a)({token:localStorage.getItem("token")},t);return e.forcedLoginByLS(n),null}return Object(j.jsx)("div",{children:Object(j.jsx)(g.a,{children:Object(j.jsxs)(X.d,{children:[Object(j.jsx)(X.b,{exact:!0,path:"/",component:H}),Object(j.jsx)(X.b,{path:"/cities",component:Q}),Object(j.jsx)(X.b,{exact:!0,path:"/itineraries/:id",component:me}),!e.userLogged&&Object(j.jsx)(X.b,{path:"/user/signup",component:ge}),!e.userLogged&&Object(j.jsx)(X.b,{path:"/user/signin",component:xe}),Object(j.jsx)(X.a,{to:"/"})]})})})})),ye=n(33),Ne={allCities:[],citiesFilter:[]},ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CARGAR_CITIES":return Object(s.a)(Object(s.a)({},e),{},{allCities:t.payload,citiesFilter:t.payload});case"FILTER_FUNCTION":var n=t.payload;return Object(s.a)(Object(s.a)({},e),{},{citiesFilter:e.allCities.filter((function(e){return e.cityName.toLowerCase().slice(0,n.length)===n.toLowerCase()}))});default:return e}},Ce={selectedCityItineraries:[]},we=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CALL_SELECTED_CITY_ITINERARIES":return Object(s.a)(Object(s.a)({},e),{},{selectedCityItineraries:t.payload});default:return e}},Ie={userLogged:null},Se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOG_USER":return t.payload&&(localStorage.setItem("userLogged",JSON.stringify({name:t.payload.name,image:t.payload.image,userId:t.payload.userId})),localStorage.setItem("token",t.payload.token)),Object(s.a)(Object(s.a)({},e),{},{userLogged:t.payload});case"LOGOUT_USER":return localStorage.clear(),Object(s.a)(Object(s.a)({},e),{},{userLogged:null});default:return e}},Le=Object(ye.c)({cities:ke,itineraries:we,auth:Se}),Te=n(98),_e=Object(ye.d)(Le,Object(ye.a)(Te.a));i.a.render(Object(j.jsx)(y.a,{store:_e,children:Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(ve,{})})}),document.getElementById("root"))}},[[156,1,2]]]);
//# sourceMappingURL=main.4953526c.chunk.js.map